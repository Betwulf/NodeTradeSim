/// <reference path="../Declarations/node/node.d.ts" />
declare class Sender {
    private static TAG;
    static TEMPDIR: string;
    private _getUrl;
    private _onSuccess;
    private _onError;
    private _enableCacheOnError;
    constructor(getUrl: () => string, onSuccess?: (response: string) => void, onError?: (error: Error) => void);
    send(payload: Buffer): void;
    saveOnCrash(payload: string): void;
    /**
     * enable caching events locally on error
     */
    enableCacheOnError(): void;
    /**
    * disable caching events locally on error
    */
    disableCacheOnError(): void;
    /**
     * Stores the payload as a json file on disk in the temp direcotry
     */
    private _storeToDisk(payload, isCrash?);
    /**
     * Check for temp telemetry files
     * reads the first file if exist, deletes it and tries to send its load
     */
    private _sendFirstFileOnDisk();
    private _onErrorHelper(error);
}
export = Sender;
